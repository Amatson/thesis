%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                            %%
%% thesistemplate.tex version 3.20 (2018/08/31)                               %%
%% The LaTeX template file to be used with the aaltothesis.sty (version 3.20) %%
%% style file.                                                                %%
%% This package requires pdfx.sty v. 1.5.84 (2017/05/18) or newer.            %%
%%                                                                            %%
%% This is licensed under the terms of the MIT license below.                 %%
%%                                                                            %%
%% Written by Luis R.J. Costa.                                                %%
%% Currently developed at the Learning Services of Aalto University School of %%
%% Electrical Engineering by Luis R.J. Costa since May 2017.                  %%
%%                                                                            %%
%% Copyright 2017-2018, by Luis R.J. Costa, luis.costa@aalto.fi,              %%
%% Copyright 2017-2018 Swedish translations in aaltothesis.cls by Elisabeth   %%
%% Nyberg, elisabeth.nyberg@aalto.fi and Henrik Wallén,                       %%
%% henrik.wallen@aalto.fi.                                                    %%
%% Copyright 2017-2018 Finnish documentation in the template opinnatepohja.tex%%
%% by Perttu Puska, perttu.puska@aalto.fi, and Luis R.J. Costa.               %%
%% Copyright 2018 English template thesistemplate.tex by Luis R.J. Costa.     %%
%% Copyright 2018 Swedish template kandidatarbetsbotten.tex by Henrik Wallen. %%
%%                                                                            %%
%% Permission is hereby granted, free of charge, to any person obtaining a    %%
%% copy of this software and associated documentation files (the "Software"), %%
%% to deal in the Software without restriction, including without limitation  %%
%% the rights to use, copy, modify, merge, publish, distribute, sublicense,   %%
%% and/or sell copies of the Software, and to permit persons to whom the      %%
%% Software is furnished to do so, subject to the following conditions:       %%
%% The above copyright notice and this permission notice shall be included in %%
%% all copies or substantial portions of the Software.                        %%
%% THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR %%
%% IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,   %%
%% FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL    %%
%% THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER %%
%% LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING    %%
%% FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER        %%
%% DEALINGS IN THE SOFTWARE.                                                  %%
%%                                                                            %%
%%                                                                            %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%                                                                            %%
%%                                                                            %%
%% An example for writting your thesis using LaTeX                            %%
%% Original version and development work by Luis Costa, changes to the text   %% 
%% in the Finnish template by Perttu Puska.                                   %%
%% Support for Swedish added 15092014                                         %%
%% PDF/A-b support added on 15092017                                          %%
%% PDF/A-2 support added on 24042018                                          %%
%%                                                                            %%
%% This example consists of the files                                         %%
%%         thesistemplate.tex (version 3.20) (for text in English)            %%
%%         opinnaytepohja.tex (version 3.20) (for text in Finnish)            %%
%%         kandidatarbetsbotten.tex (version 1.00) (for text in Swedish)      %%
%%         aaltothesis.cls (versio 3.20)                                      %%
%%         kuva1.eps (graphics file)                                          %%
%%         kuva2.eps (graphics file)                                          %%
%%         kuva1.jpg (graphics file)                                          %%
%%         kuva2.jpg (graphics file)                                          %%
%%         kuva1.png (graphics file)                                          %%
%%         kuva2.png (graphics file)                                          %%
%%         kuva1.pdf (graphics file)                                          %%
%%         kuva2.pdf (graphics file)                                          %%
%%                                                                            %%
%%                                                                            %%
%% Typeset in Linux either with                                               %%
%% pdflatex: (recommended method)                                             %%
%%             $ pdflatex thesistemplate                                      %%
%%             $ pdflatex thesistemplate                                      %%
%%                                                                            %%
%%   The result is the file thesistemplate.pdf that is PDF/A compliant, if    %%
%%   you have chosen the proper \documenclass options (see comments below)    %%
%%   and your included graphics files have no problems.
%%                                                                            %%
%% Or                                                                         %%
%% latex: (this method is not recommended)                                    %%
%%             $ latex thesistemplate                                         %%
%%             $ latex thesistemplate                                         %%
%%                                                                            %%
%%   The result is the file thesistemplate.dvi, which is converted to ps      %%
%%   format as follows:                                                       %%
%%                                                                            %%
%%             $ dvips thesistemplate -o                                      %%
%%                                                                            %%
%%   and then to pdf as follows:                                              %%
%%                                                                            %%
%%             $ ps2pdf thesistemplate.ps                                     %%
%%                                                                            %%
%%   This pdf file is not PDF/A compliant. You must must make it so using,    %%
%%   e.g., Acrobat Pro or PDF-XChange.                                        %%
%%                                                                            %%
%%                                                                            %%
%% Explanatory comments in this example begin with the characters %%, and     %%
%% changes that the user can make with the character %                        %%
%%                                                                            %%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%
%% WHAT is PDF/A
%%
%% PDF/A is the ISO-standardized version of the pdf. The standard's goal is to
%% ensure that he file is reproducable even after a long time. PDF/A differs
%% from pdf in that it allows only those pdf features that support long-term
%% archiving of a file. For example, PDF/A requires that all used fonts are
%% embedded in the file, whereas a normal pdf can contain only a link to the
%% fonts in the system of the reader of the file. PDF/A also requires, among
%% other things, data on colour definition and the encryption used.
%% Currently three PDF/A standards exist:
%% PDF/A-1: based on PDF 1.4, standard ISO19005-1, published in 2005.
%%          Includes all the requirements essential for long-term archiving.
%% PDF/A-2: based on PDF 1.7, standard ISO19005-2, published in 2011.
%%          In addition to the above, it supports embedding of OpenType fonts,
%%          transparency in the colour definition and digital signatures.
%% PDF/A-3: based on PDF 1.7, standard ISO19005-3, published in 2012.
%%          Differs from the above only in that it allows embedding of files in
%%          any format (e.g., xml, csv, cad, spreadsheet or wordprocessing
%%          formats) into the pdf file.
%% PDF/A-1 files are not necessarily PDF/A-2 -compatible and PDF/A-2 are not
%% necessarily PDF/A-1 -compatible.
%% All of the above PDF/A standards have two levels:
%% b: (basic) requires that the visual appearance of the document is reliably
%%    reproduceable.
%% a (accessible) in addition to the b-level requirements, specifies how
%%   accessible the pdf file is to assistive software, say, for the physically
%%   impaired.
%% For more details on PDF/A, see, e.g., https://en.wikipedia.org/wiki/PDF/A
%%
%%
%% WHICH PDF/A standard should my thesis conform to?
%%
%% Primarily to the PDF/A-1b standard. All the figures and graphs typically
%% use in thesis work do not require transparency features, a basic '2-D'
%% visualisation suffices. The font to be used are specified in this template
%% and they should not be changed. However, if you have figures where
%% transparency characteristics matter, use the PDF/A-2b standard. Do not use
%% the PDF/A-3b standard for your thesis.
%%
%%
%% WHAT graphics format can I use to produce my PDF/A compliant file?
%%
%% When using pdflatex to compile your work, use jpg, png or pdf files. You may
%% have PDF/A compliance problems with figures in pdf format. Do not use PDF/A
%% compliant graphics files.
%% If you decide to use latex to compile your work, the only acceptable file
%% format for your figure is eps. DO NOT use the ps format for your figures.

%% USE one of these:
%% * the first when using pdflatex, which directly typesets your document in the
%%   chosen pdf/a format and you want to publish your thesis online,

%% * the second when you want to print your thesis to bind it, or
%% * the third when producing a ps file and a pdf/a from it.
%%
\documentclass[english, 12pt, a4paper, elec, utf8, a-1b, online]{aaltothesis}
%\documentclass[english, 12pt, a4paper, elec, utf8, a-1b]{aaltothesis}
%\documentclass[english, 12pt, a4paper, elec, dvips, online]{aaltothesis}

%% Use the following options in the \documentclass macro above:
%% your school: arts, biz, chem, elec, eng, sci
%% the character encoding scheme used by your editor: utf8, latin1
%% thesis language: english, finnish, swedish
%% make an archiveable PDF/A-1b or PDF/A-2b compliant file: a-1b, a-2b
%%                    (with pdflatex, a normal pdf containing metadata is
%%                     produced without the a-*b option)
%% typeset in symmetric layout and blue hypertext for online publication: online
%%            (no option is the default, resulting in a wide margin on the
%%             binding side of the page and black hypertext)
%% two-sided printing: twoside (default is one-sided printing)
%%

%% Use one of these if you write in Finnish (see the Finnish template
%% opinnaytepohja.tex)
%\documentclass[finnish, 12pt, a4paper, elec, utf8, a-1b, online]{aaltothesis}
%\documentclass[finnish, 12pt, a4paper, elec, utf8, a-1b]{aaltothesis}
%\documentclass[finnish, 12pt, a4paper, elec, dvips, online]{aaltothesis}

\usepackage{graphicx}

%% Math fonts, symbols, and formatting; these are usually needed
\usepackage{amsfonts,amssymb,amsbsy,amsmath}

%% Change the school field to specify your school if the automatically set name
%% is wrong
% \university{aalto-yliopisto}
% \school{Sähkötekniikan korkeakoulu}

%% Edit to conform to your degree programme
%%
\degreeprogram{Automation and electrical engineering}
%%

%% Your major
%%
\major{Control, Robotics and Autonomous Systems}
%%

%% Major subject code
%%
\code{ELEC3025}
%%
 
%% Choose one of the three below
%%
%\univdegree{BSc}
\univdegree{MSc}
%\univdegree{Lic}
%%

%% Your name (self explanatory...)
%%
\thesisauthor{Matti Haukilintu}
%%

%% Your thesis title comes here and possibly again together with the Finnish or
%% Swedish abstract. Do not hyphenate the title, and avoid writing too long a
%% title. Should LaTeX typeset a long title unsatisfactorily, you mght have to
%% force a linebreak using the \\ control characters.
%% In this case...
%% Remember, the title should not be hyphenated!
%% A possible "and" in the title should not be the last word in the line, it
%% begins the next line.
%% Specify the title again without the linebreak characters in the optional
%% argument in box brackets. This is done because the title is part of the 
%% metadata in the pdf/a file, and the metadata cannot contain linebreaks.
%%
\thesistitle{Machine learning approach to support ticket forecasting from software logs}
%\thesistitle[Title of the thesis]{Title of\\ the thesis}
%%

%%
%% TODO: Check place!
\place{Espoo}
%%

%% The date for the master's thesis is the day it is presented
%%
%% TODO: Check date!
\date{31.07.2022}
%%

%% Thesis supervisor
%% Note the "\" character in the title after the period and before the space
%% and the following character string.
%% This is because the period is not the end of a sentence after which a
%% slightly longer space follows, but what is desired is a regular interword
%% space.
%%
\supervisor{Prof.\ Arto Visala}
%%

%% Advisor(s)---two at the most---of the thesis. Check with your supervisor how
%% many official advisors you can have.
%%
\advisor{MSc Petri Pyöriä}
%\advisor{MSc Sarah Scientist}
%%

%% Aaltologo: syntax:
%% \uselogo{aaltoRed|aaltoBlue|aaltoYellow|aaltoGray|aaltoGrayScale}{?|!|''}
%% The logo language is set to be the same as the thesis language.
%% TODO: Select smart logo
\uselogo{aaltoPurple}{?}
%%

%% The English abstract:
%% All the details (name, title, etc.) on the abstract page appear as specified
%% above.
%% Thesis keywords:
%% Note! The keywords are separated using the \spc macro
%%
\keywords{Machine learning algorithms\spc Robotic process automation\spc
log parsing\spc random delay\spc Microsoft Azure ML Studio}
%%

%% The abstract text. This text is included in the metadata of the pdf file as well
%% as the abstract page.
%%
\thesisabstract{
%% TODO: Lorem ipsum, replace
Your abstract in English.
Keep the abstract short.
The abstract explains your research topic,
the methods you have used,
and the results you obtained.
In the PDF/A format of this thesis,
in addition to the abstract page,
the abstract text is written into the pdf file's metadata.
Write here the text that goes into the metadata.
The metadata cannot contain special characters,
linebreak or paragraph break characters,
so these must not be used here.
If your abstract does not contain
special characters and it does not require paragraphs,
you may take advantage of the abstracttext macro (see the comment below).
Otherwise, the metadata abstract text must be identical to the text on the abstract page.
}

%% Copyright text. Copyright of a work is with the creator/author of the work
%% regardless of whether the copyright mark is explicitly in the work or not.
%% You may, if you wish, publish your work under a Creative Commons license (see
%% creaticecommons.org), in which case the license text must be visible in the
%% work. Write here the copyright text you want. It is written into the metadata
%% of the pdf file as well.
%% Syntax:
%% \copyrigthtext{metadata text}{text visible on the page}
%% 
%% In the macro below, the text written in the metadata must have a \noexpand
%% macro before the \copyright special character, and macros (\copyright and
%% \year here) must be separated by the \ character (space chacter) from the
%% text that follows. The macros in the argument of the \copyrighttext macro
%% automatically insert the year and the author's name. (Note! \ThesisAuthor is
%% an internal macro of the aaltothesis.cls class file).
%% Of course, the same text could have simply been written as
%% \copyrighttext{Copyright \noexpand\copyright\ 2018 Eddie Engineer}
%% {Copyright \copyright{} 2018 Eddie Engineer}
%%
\copyrighttext{Copyright \noexpand\copyright\ \number\year\ \ThesisAuthor}
{Copyright \copyright{} \number\year{} \ThesisAuthor}

%% You can prevent LaTeX from writing into the xmpdata file (it contains all the 
%% metadata to be written into the pdf file) by setting the writexmpdata switch
%% to 'false'. This allows you to write the metadata in the correct format
%% directly into the file thesistemplate.xmpdata.
%\setboolean{writexmpdatafile}{false}

%% All that is printed on paper starts here
%%
\begin{document}

%% Create the coverpage
%%
\makecoverpage

%% Typeset the copyright text.
%% If you wish, you may leave out the copyright text from the human-readable
%% page of the pdf file. This may seem like a attractive idea for the printed
%% document especially if "Copyright (c) yyyy Eddie Engineer" is the only text
%% on the page. However, the recommendation is to print this copyright text.
%%
\makecopyrightpage

%% Note that when writting your thesis in English, place the English abstract
%% first followed by the possible Finnish or Swedish abstract.

%% Abstract text
%% All the details (name, title, etc.) on the abstract page appear as specified
%% above.
%%
\begin{abstractpage}[english]
	\abstracttext{}
\end{abstractpage}

%% The text in the \thesisabstract macro is stored in the macro \abstractext, so
%% you can use the text metadata abstract directly as follows:
%%
%\begin{abstractpage}[english]
%	\abstracttext{}
%\end{abstractpage}

%% Force a new page so that the possible Finnish or Swedish abstract does not
%% begin on the same page
%%
\newpage
%%
%% Abstract in Finnish.  Delete if you don't need it. 
%%
\thesistitle{Sovelluslokien ja vikatikettien yhteyden löytäminen koneoppimista hyödyntäen}
\supervisor{Prof.\ Arto Visala}
\advisor{FM Petri Pyöriä}
\degreeprogram{Automaatio- ja sähkötekniikka}
%\department{Elektroniikan ja nanotekniikan laitos}
\major{Ohjaus, robotiikka ja autonomiset järjestelmät}
%% The keywords need not be separated by \spc now.
\keywords{Koneoppiminen, koneoppimisalgoritmit, ohjelmistorobotiikka, loki,
  lokin parsiminen, satunnainen viive, satunnaisviive, Microsoft Azure ML Studio}
%% Abstract text
\begin{abstractpage}[finnish]
  Tiivistelmässä on lyhyt selvitys kirjoituksen tärkeimmästä sisällöstä:
  mitä ja miten on tutkittu,
  sekä mitä tuloksia on saatu. 
\end{abstractpage}

%% Preface
%%
%% This section is optional. Remove it if you do not want a preface.
\mysection{Preface}
%\mysection{Esipuhe}
Pitkäksi venynyt työ

Kiitokset

\vspace{5cm}
Otaniemi, {\today}

\vspace{5mm}
{\hfill Matti Haukilintu \hspace{1cm}}

%% Force a new page after the preface
%%
\newpage


%% Table of contents. 
%%
\thesistableofcontents


%% Symbols and abbreviations
\mysection{Symbols and abbreviations}

\subsection*{Symbols}

\begin{tabular}{ll}
  %% TODO: dummies, replace
  $\mathbf{B}$  & magnetic flux density  \\
  $\mathbf{B}$  & magnetic flux density
\end{tabular}

\subsection*{Operators}

\begin{tabular}{ll}
  %% TODO: dummies, replace
  $\nabla \times \mathbf{A}$    & curl of vectorin $\mathbf{A}$\\
  +     &  yep, a plus
\end{tabular}

\subsection*{Abbreviations}

\begin{tabular}{ll}
  RPA         & Robotic Process Automation \\
  ML          & Machine Learning \\
  SQL         & Structured Query Language \\
  JSON        & JavaScript Object Notation \\
  CSV         & Comma-Separated Values \\
  GDPR        & General Data Protection Regulation
\end{tabular}




%% \clearpage is similar to \newpage, but it also flushes the floats (figures
%% and tables).
%%
\cleardoublepage




%% ************************************************ 1 ************************************************

%% Text body begins. Note that since the text body is mostly in Finnish the
%% majority of comments are also in Finnish after this point. There is no point
%% in explaining Finnish-language specific thesis conventions in English.
%% This text will be translated to English soon.
%%
\section{Introduction}\label{sec:introduction}

%% Leave page number of the first page empty
%% 
\thispagestyle{empty}
%% TODO: Remember references
Artificial intelligence has found its way to
more and more fields of business.
In banking business it is already used in
credit card fraud detection, %% TODO: something more?


Samlink Oy (Samlink from now on)
was founded in 1994
and is now owned by Kyndryl.
From the early years
and going by the name of Samcom
the company was owned by several Finnish banks
and offered all sorts IT solutions to them.
Most notable product is Codeapp
that makes mobile authentication possible
for client bank end customers.

Besides banking,
Samlink develops multiple other IT solutions
to wide range of customers,
for example,
entertainment platform solutions for DNA.
Even though Samlink can be considered
a modern technology company
the most modern technologies has not yet been adapted
in tool variety used in development.
However,
robotic process automation has been adopted
and is actively used in some
banking solutions to reduce
the amount of manual labor required
from banking clerks.

Like all other IT companies,
Samlink has a lot of data that is produced
and moved through its systems daily.
And as a company offering continuous development
as well as product maintenance services,
Samlink also serves as a technical help desk
regarding the software solutions produced.
As no IT solutions comes without bugs or misbehaviour,
Samlink service desk has to use considerable amount of time
to resolve whether current tech help request
is due to the problems in programming.
In this process, machine learning is able to help.
%% TODO: This would need some clarification and sourcing.

<RPA in use, but not intelligent processes>

<ML and Azure>

\subsection{Background and motivation}\label{subsec:background-and-motivation}
In the field of information technology
logging is one of the most important methods
in problem solving,
be it software or operating system related.\cite{delarosa2018log}

%% TODO: continue
\begin{verbatim}
<importance of logs>

<current state of samlink AI processes>

<Log format>

<Intelligent automation>
\end{verbatim}

\subsection{Research objectives}\label{subsec:research-objectives}
This research aims to kickstart the machine learning application usage in Samlink operations.
Multiple obstacles need to be tackled
as most of the phases in this study has not yet been encountered inside the company.

First and foremost,
it is crucial to construct some basic form for log data
so it is usable by machine learning algorithms.
Log data forming is on of the key elements in automatic log parsing applications
as it is not for just machines
but also for people to read.
%% TODO: more

As today more and more concern is set on anonymization
not only due to GDPR,
the data used for machine learning must be sanitized.
Because of this,
one major objective is to create a clean dataset
that is safe to use in cloud environment
without creating concern around security and privacy issues.
In addition to this,
data must also be clean enough
so that machine learning algorithms
are able to process it.

Finally,
the main objective this research is aiming to answer
is whether it is possible to use machine learning algorithms
in such ways that combine support ticket timestamps
and software run log
so that it can predict
if new support ticket might be coming.
%% TODO: go on?

%% TODO: Parse these to somewhere nice!
Few things to consider:
\begin{verbatim}
  * Counting anomaly "probability" for individual log rows
  * Random delay! Solving issue by grouping
  * Hybrid ML with anomaly detection and regression
  => Can this give any results for forecasting?
  ?? Assumption to lean on:
    !! Ticket causing log rows are ANOMALIES in log data.
    TODO: explain why this assumption is necessary!!!
    - Log amount is not necessarily proportional to ticket creating error amount, even with info-types filtered out
    - Considerable amount of rows may be related to one, or several different, tickets
\end{verbatim}
%% TODO: it's not really probability. What is it?
%% TODO: Is it really regression? Is that what we should be using?

What really happens in this research:
\begin{verbatim}
<Anonymization scope>
<Azure ML studio setup and prerequisites>
<Log data and timestamp combining>
<Connection for data, ML estimates>
\end{verbatim}

\subsection{Scope}\label{subsec:scope}

In order to limit the study
to feasible length and content
it is necessary to define the scope for the thesis.
As major part of the time consumed for the study
was used for data acquiring and anonymizing
yet the most value comes from
content considering machine learning,
the length of the content per section
does not reflect
the amount of time used for each section.

\subsubsection*{Data anonymization}
Anonymization in the context of this thesis
refers to data sanitization process
purposed to edit the data into
more secure form in the privacy point of view.
In this study we aim to
create a dataset usable in ML training.
In this respect
anonymization is not in the main focus of the study
but only treated as a sub-phase
of the data preprocessing in whole.
Nevertheless,
anonymization is from the privacy point of view
the most important phase of data preprocessing.

Keeping this in mind,
anonymization is covered rather superficially,
only enough to explain the reasons
behind actions taken during anonymization process.

\subsubsection*{Azure setup}
The ML training and result scoring
is done in Azure ML environment.
As part of the study aims to create
an initial guideline for
ML process commissioning
the Azure setup phase is documented in such detail
reflecting the importance of this information
for future developers
starting Azure ML projects.

%% TODO: what more?

\subsubsection*{Data requirements}
Data purity in a sense of
how easy it is to be used by ML algorithms
creates challenges at the beginning of ML training.
If data is not consistent,
has lots of missing values
or is formed in unanticipated way,
it requires considerable amount of preprocessing
slowing the training process
and causing errors in pipeline runs.

In order to create a baseline for Samlink ML projects
this study aims to give basic criterion
what is required from the data
so it is easily parsable by ML algorithm.
%% TODO: better words for parsable?


\subsubsection*{Machine learning methods}
Several different machine learning algorithms exist
%% TODO: Source?
that are aimed for different applications in mind.
For example,
to make an algorithm that can predict
the price of an apartment listed\cite{Winky}
we could be using linear regression
and in order to detect
possible cyber threats from network traffic\cite{Ghanem}
a two-class support vector machine could be utilized.
These two methods are very different in usage
and has their pros and cons in different applications.

As different methods can be used in creative ways
in very different applications
depending on how the data is presented
and how the ML problem is formed,
this study focuses on
just a few easily approachable training methods.


\subsection{Structure}\label{subsec:structure}
At the beginning of this thesis
we opened the key concepts discussed in the study.
We also defined the
%% TODO: nope. talk about next sections. move stuff from earlier sections




%% Opinnäytteessä jokainen osa alkaa uudelta sivulta, joten \clearpage
%%
%% In a thesis, every section starts a new page, hence \clearpage
\clearpage




%% ************************************************ 2 ************************************************

\section{Background}\label{sec:background}
%\section{Aikaisempi tutkimus}

%% TODO: Briefly about machine learning in general

Machine learning is part of the artificial intelligence field.
Typically, machine learning refers to %% TODO: something something data

Machine learning usage has become more common
and is nowadays widely used in many fields,
not just general information technology and computer science.
This is because data can be gathered everywhere,
and where there is data to be processed,
machine learning can be there to process it.
%% TODO: Makes any sense? References!

Machine learning divides commonly in several categories,
which are explored briefly in the next section.


\subsection*{Machine learning field}\label{subsec:bg-ml-field}
%% TODO: Open up ML algorithms and learning methods

\subsubsection*{ML training}
Machine learning algorithms can be trained in two basic ways:
supervised and unsupervised learning.

In supervised learning,
algorithm is given data with ready answers on
how the data needs to be interpreted.
Algorithm then tries to figure out
how given data and the correct answers are related.

In unsupervised learning,
on the other hand,
algorithm does not get model data from which to train itself,
but instead it tries to find clusters or groups inside the data
that are linked together more closely than to other parts of data.
%% TODO: REFERENCES AND SUCH

\subsubsection*{ML algorithms}
Algorithms are the main "magic" inside machine learning. %% TODO: Omstart?
They can be generally divided into <four> categories %% TODO: check

Regression algorithms predict values
and are typically used with supervised learning.
%% TODO: give examples? House market price?

Classification algorithms predict categories.
Depending on the algorithm,
they can predict between two or several categories.
%% TODO: Examples?

Clustering algorithms use unsupervised learning
to find structures inside data.

Anomaly detection algorithms work also unsupervised
and try to find unusual or rare data points from data.

%% TODO: need more info? Opening up?

\subsection*{Cloud ML platforms}\label{subsec:bg-cloud-ml-platforms}
%% TODO: Briefly about Azure, Google and AWS

Machine learning algorithms are not light to operate.
Depending on the amount of data,
it can be a serious %% TODO: What? How big?

Especially with online applications
where real time analysis of new input data is required,
cloud computing resources can make a huge difference
in terms of processing speed. %% TODO: refs maybe?

Online market offers several solutions for ML computing in cloud.

Google

Amazon AWS(?)

Microsoft Azure\cite{altexsoft}



%% TODO: More details of each, briefly

\subsection*{Log data parsing with ML}\label{subsec:log-data-parsing-with-ml}
%% TODO: Some research should exist

\subsection*{Random delay in timeseries}\label{subsec:bg-random-delay-in-timeseries}
%% TODO: Anything about the topic?


\subsection*{Hybrid ML approach with anomaly detection}\label{subsec:bg-hybrid-ml-approach-with-anomaly-detection}
%% TODO: Is there anything about this?


%% TODO: do we need other subsections?
%\subsection{Cloud services}\label{subsec:cloud-services}
%<Azure ML and other cloud services>

%\subsection{Data protection}\label{subsec:data-protection}
%<Anonymization and data sensitivity>



\clearpage



%% ************************************************ 3 ************************************************

\section{Research material and methods}\label{sec:research-material-and-methods}
%\section{Tutkimusaineisto ja -menetelmät}

In the next section
we explain in more detail
what the data used in the study
consists of
and what methods were used
in attempt to answer the research goals.
%% TODO: Better frazing?

The data in the research consists mainly of two parts.
The most important part is, obviously,
the log data produced by the numerous RPA processes.
The second part complementing the study
is the support ticket data written by clerks of customer banks.
In order to use the data safely in the cloud environment
it was necessary to sanitize the data
from any sensitive information.
This was done by anonymizing the log data
and using only timestamps from the support tickets.

\subsection{Support ticket data}\label{subsec:efecte-ticket-data}

Like all other software,
RPA components fail from time to time.
As described above, %% TODO: Make sure is described!
RPA logs are verbose
making possible error identification from among it hard.
Due to that,
it is not feasible to create log parsers
that would be able to identify critical errors
from within thousands of lines of log.
When critical error happens
and it causes the RPA process to fail,
the banking clerks need to fix manually
the job left by the RPA process.
Every time this happens,
these clerks then send a support request ticket
to Samlink technical helpdesk
and ask to fix the issue.

%% TODO: clerks send tech support tickets

When clerks send the ticket to technical support
a verbose description of the situation is written
to help developers to identify the problem.
This description often contains sensitive end customer information
like bank account details and social security numbers.
To avoid privacy issues when processing this data,
it was decided to use only timestamps of the tickets.
The resulting data was practically a list of date and time values.
More about the issue from privacy point of view
is described in section \ref{subsec:data-anonymization}
%% TODO: due to GDPR, only timestamps could be used


\subsection{RPA log data}\label{subsec:rpa-log-data}
Robotic process automations used in Samlink
are engineered %% TODO: trained/programmed/
to ease the workload of
bank clerks.
RPA components %% TODO: What is the right thing to say? RPA component/process?
work mostly with loan applications %% TODO: Check!
among other routine tasks
that require mostly manual labor.

Like other software,
RPA also produces log data during runtime.
As several RPA processes are running %% TODO: How many RPAs
%% TODO: how many customers are they dealing with?
the amount of log produced daily is also significant. %% TODO: AMOUNTS!
This log data is not in consistent form
forming out of typical CSV data
injected with even more inconsistent JSON data
that varies in contents vastly.
%% TODO: Include examples of data types used

RPA log data is stored in SQL database.
The database is split in live production log
that is gathered for few months %% TODO: Check
and then moved to archive that has
several years worth of log.

In this study we used archived data
as it was easier to acquire in one run
without the need to merge different parts together.
Archive also had %% TODO: How much?
data that was seen as sufficient amount
for machine learning algorithm training.


\subsection{Data anonymization}\label{subsec:data-anonymization}

\subsubsection*{Support ticket data privacy}
Samlink handles highly sensitive banking customer data in its processes,
such as personal identification numbers, home addresses, email addresses and bank account numbers.
All possibly sensitive data must be removed
before data can be transferred out from production environment to cloud.
Due to bureaucratic reasons,
technical support tickets were under more strict policies.
Because of this,
they were allowed to be used in the research
on condition that no business critical nor customer sensitive information
was processed in the first place.
Only way to assure this
was to select solely timestamp fields from ticket data.
Thus, no sanitation for ticket data was needed.

\subsubsection*{RPA log data sanitization}
Information privacy is one of the key values in Samlink business promise
as company develops high security banking applications
and processes sensitive customer data.
Thus, several aspects were needed to take into consideration
before log data could be authorized for thesis study usage.
To improve privacy,
it was decided to assume
that personal customer details are not critical information
for training the ML algorithm
if goal is to find possible problems in RPA runtime
and not detect individual customer related problems.
This way it was not necessary to achieve adequate security
by less secure and more effort consuming ways
such as pseudonymisation or k-anonymization,
%% TODO: references?
which would have also required strict inspections
before data could have been approved for cloud processing.

As production environment is built on Microsoft Server based solution,
and because it was highly unrecommended
to install additional software to the production server,
data acquiring and anonymization tools were chosen
based on what was already usable in the RPA production environment.
Microsoft Powershell offers sufficient tools
for database SQL querying
and stream editing.
The amount of data was significant
which made straight file editing impossible
due to the memory limitations.
Thus, stream editing was necessary
for finding and replacing
sensitive information from the data
%% TODO: References!


Anonymization took good proportion of the time in workdays
as processes were slow,
amount of data was big
and multiple re-runs were needed
before the results was seemed adequate.

%% TODO: appendix of the script used

\subsection{Cloud machine learning and methods}\label{subsec:cloud-ml-and-methods}

\subsubsection*{Azure resources and ML Studio}
%% TODO: <Azure resources, virtual network etc.>
Several different ML methods are usable with Azure ML Studio. <???>

Usually <with usual ml methods> the estimates
created using ML algorithms
are formed based on the certain features
presented on a one element of the data,
or on one row.
This means that in typical case,
there is one column in the data
given to the ML algorithm
that is removed from the training data
and this column value is what algorithm
aims to predict.

In this study case, however,
data does not contain clear values
that are being estimated
and that can be used as comparison.

\begin{tabular}{cccc}
  LOG\_DATA \\
  a=date & b=msg & c=etc. & \\
  a & b & c & n1 \\
  a & b & c & n2 \\
  a & b & c & n3 \\
  a & b & c & n4
\end{tabular}
\begin{tabular}{c}
  EFECTE\_DATA \\
  A YYYY.MM.DD hh:mm:ss \\
  B YYYY.MM.DD hh:mm:ss \\
  C YYYY.MM.DD hh:mm:ss \\
  D YYYY.MM.DD hh:mm:ss \\
  E YYYY.MM.DD hh:mm:ss
\end{tabular}
\\
n1 = SUM(AB) \\
n2 = SUM(C) \\
n3 = SUM(DE) \\
=> \\
We could try to predict nx
but usually this is done
by making estimate based on
a, b and c.
Instead,
we aim to estimate the sum of events
in timeframe.
We should also skip event instances
that are close to each other
to avoid counting multiple values
linked to same error
as different possible ticket creators.
\\ \\
**** ???? \\
Is it possible to use full row as a feature? \\
5000 rows / week \\
count events / week \\
=> estimate from data \\
\\
preformatting data! \\
\begin{enumerate}
  \item remove fingerprint etc unique values from raw message
  \item calculate anomaly probability per line
  \item [!] CAN WE COMBINE THIS PER JOB-ID?
  \item create new table consisting:
  \begin{enumerate}
    \item amount of rows per timeframe
    \item anomaly probability value (median, mean etc)
    \item efecte tickets received in said timeframe
  \end{enumerate}
\end{enumerate}


???? ****


\subsubsection*{Machine learning methods and pipelines}
Initial plan when starting the ML pipeline testing
was to feed the log data to anomaly detection algorithm
and try to get some sort of estimate of possible anomaly count.
This plan had several problems.
First, as stated, logging is very abundant
and several thousands of rows was logged %% TODO: Check some real values!
during a single day.
This meant that among the
%% TODO: << logeissa päivän aikana yhteen tikettiin liittyen satoja rivejä
%% anomalioiden määrä voi olla tuhansia vaikka tikettejä vain kymmenkunta
%% ei kerro vertailukelpoista määrää

\clearpage



%% ************************************************ 4 ************************************************

\section{Results}\label{sec:results}


\subsection{Data formatting}\label{subsec:data-formatting}
At the beginning of the research,
the log data from RPA was in SQL database.
However,
the database used was not >>pure>>
in a way that typical relational databases are,
but some columns included JSON-formatted data in them.
For ML algorithms to be able to read the given data with ease
this sort of >>impurities>> needed to be cleared from the data.


\subsection{Azure and Azure ML Studio}\label{subsec:azure-and-azure-ml-studio}

<general about ml inside azure>

\subsubsection*{Azure resources}

<what resources was needed inside Azure?>

<virtual machines etc.>




\subsubsection*{Azure ML Studio components}
<clusters and data>

<Memory problems>

During the initial pipeline runs
the execution came to an abrupt stop
and Azure notified about memory issues.
These problems were linked to the data amount
which had to be reduced to 600 megabytes
before any pipeline could be finished using the data.
This reduction was against the initial goal
where preferably all the data could have been used.

Considerable amount of time was used
to fix or avoid this issue
but nothing clear was found
that would explain the error received.
While working with with the issue
it was also noted
that data needed more cleaning
in order to ease the preprocessing phase
as described with more detail in section \ref{subsec:data-anonymization}
Thus,
the data had to be imported from log archive
and anonymized once more.

Two choices was possible to take:
\begin{enumerate}
  \item Continue working with full data
  and attempting to fix the memory issue
  by consulting Azure experts
  \item  Trim the data to reduce the data size
  by declaring info-type log messages
  as unnecessary
  and working with vastly diminished data
  until the memory issue would be solved
  one way or another
\end{enumerate}

To advance the study more efficiently
it was decided to trim info-type log messages from data
hence reducing the data amount considerably.
Meanwhile,
<fixing the memory issue>

\subsection{Machine learning methods and pipelines}\label{subsec:machine-learning-methods-and-pipelines}

<anomaly detection>

<N-Gram Feature extracting>

<Some regression algorithm to predict event count.
Poisson only for poisson distributed data.>

<two-class classification>
<support vector machine etc>



\subsubsection*{<Integrating with timestamps>}


%% using verbatim to avoid douple line breaks for pdf readability
\begin{verbatim}
  <todo:

  ***A***
  count sum of incidents in timeframe x
  set x to each row in data by timestamp
  predict amount of incidents based on data

  ***B***
  Use efecte data as reference values
  (regression, predict amount in timeframe -> compare)
  (classification, count TRUE in timeframe -> compare amount)

  >
\end{verbatim}

\clearpage



%% ************************************************ 5 ************************************************

\section{Summary}\label{sec:summary}

<Sum up here what we did and why>

\subsection{Discussion}\label{subsec:discussion}
<Here some thinking what should have been improved>

\subsubsection*{Data formatting}
The most time-consuming tasks in the study
was without a doubt
the anonymization and preformatting of the data.
Although sensitive information may sometimes be crucial in error fixing
as problems may consider just one client,
it is necessary that the data sanitation is possible to do
in order to use the data in less secure environment.
By preformatting the data in such way
that all different personal information types
do not differ between use cases.
%% TODO: hetu in weird form


\clearpage



%% ************************************************ 6 ************************************************

%% Lähdeluettelo

\bibliographystyle{IEEEtran}
\bibliography{refs}
%%


%% Appendices
%% If you don't have appendices, remove \clearpage and \thesisappendix below.
\clearpage

\thesisappendix

\section{Esimerkki liitteestä}\label{sec:LiiteA}


\clearpage

\end{document}
